document.addEventListener("DOMContentLoaded",()=>{let e=!0,t=(e=500)=>{document.documentElement.classList.contains("lock")?n(e):s(e)},s=(t=500)=>{let s=document.querySelector("body");if(e){let n=document.querySelectorAll("[data-lp]");for(let e=0;e<n.length;e++){n[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}s.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),e=!1,setTimeout(function(){e=!0},t)}},n=(t=500)=>{let s=document.querySelector("body");if(e){let n=document.querySelectorAll("[data-lp]");setTimeout(()=>{for(let e=0;e<n.length;e++){n[e].style.paddingRight="0px"}s.style.paddingRight="0px",document.documentElement.classList.remove("lock")},t),e=!1,setTimeout(function(){e=!0},t)}};if(document.querySelector(".child-add")){const e=document.querySelector(".child-add");e.addEventListener("click",()=>{event.preventDefault(),e.parentElement.insertAdjacentHTML("beforeend",`      \n         <div class="_child" style="order: ${e.parentElement.children.length-1}; margin-top: 7px;">\n            <div class="select select_form _select-active" data-id="2"><select name="Количество детей" id="child" class="form" data-id="2" data-speed="150" hidden="">\n               <option value="1" selected="">1</option>\n               <option value="2">2</option>\n               <option value="3">3</option>\n               <option value="4">4</option>\n               </select>\n            <div class="select__body"><button type="button" class="select__title"><span class="select__value"><span class="select__content">1</span></span></button><div class="select__options" hidden=""><button class="select__option" data-value="1" type="button" hidden="">1</button><button class="select__option" data-value="2" type="button">2</button><button class="select__option" data-value="3" type="button">3</button><button class="select__option" data-value="4" type="button">4</button></div></div></div>\n            <div class="select select_form _select-active" data-id="3"><select name="Возраст детей" class="form" data-id="3" data-speed="150" hidden="">\n               <option value="0-3 лет" selected="">0-3 лет</option>\n               <option value="4-7 лет">4-7 лет</option>\n               <option value="8-12 лет">8-12 лет</option>\n               <option value="13-17 лет">13-17 лет</option>\n            </select><div class="select__body"><button type="button" class="select__title"><span class="select__value"><span class="select__content">0-3 лет</span></span></button><div class="select__options" hidden=""><button class="select__option" data-value="0-3 лет" type="button" hidden="">0-3 лет</button><button class="select__option" data-value="4-7 лет" type="button">4-7 лет</button><button class="select__option" data-value="8-12 лет" type="button">8-12 лет</button><button class="select__option" data-value="13-17 лет" type="button">13-17 лет</button></div></div></div>\n         </div>\n         `),e.style.order=e.parentElement.children.length})}if(document.querySelector(".icon-menu")&&document.addEventListener("click",function(s){e&&s.target.closest(".icon-menu")&&(t(),document.documentElement.classList.toggle("menu-open"))}),document.querySelector(".form-callback")){new JustValidate(".form-callback").addField("#name",[{rule:"minLength",value:2,errorMessage:"Введите не менее 2 символов"},{rule:"maxLength",value:15,errorMessage:"Введите не более 15 символов"},{rule:"required",value:!0,errorMessage:"Введите имя"}]).addField("#phone",[{rule:"required",value:!0,errorMessage:"Телефон обязателен"}]).addField("#date",[{rule:"required",value:!0,errorMessage:"Введите дату"}]).onSuccess(e=>{console.log("Validation passes and form submitted",e);let t=new FormData(e.target);console.log(...t);let s=new XMLHttpRequest;s.onreadystatechange=function(){4===s.readyState&&200===s.status&&console.log("Отправлено")},s.open("POST","mail.php",!0),s.send(t),e.target.reset()})}}),$(function(){$(".hero__slider").slick({slidesToShow:1,autoplay:!0,dots:!0,arrows:!1,draggable:!0,speed:600,dotsClass:"hero__pagination"}),$(".reviews__slider").slick({slidesToShow:1,autoplay:!1,dots:!0,arrows:!1,draggable:!0,speed:600,dotsClass:"reviews__pagination"}),$(".tours__slider").slick({slidesToShow:4,speed:600,variableWidth:!0,arrows:!1,responsive:[{breakpoint:1640,settings:{slidesToShow:3,centerMode:!0,centerPadding:"50px"}},{breakpoint:992,settings:{centerMode:!1,centerPadding:"40px",slidesToShow:2}},{breakpoint:768,settings:{centerMode:!0,centerPadding:"40px",slidesToShow:1}}]}),$(".slider-images__items-thumbs").on("beforeChange",function(e,t,s,n){var o,i=t.slideCount-1;"right"==(o=n==s?"same":1==Math.abs(n-s)?n-s>0?"right":"left":n-s>0?"left":"right")&&$('.slick-cloned[data-slick-index="'+(n+i+1)+'"]',$(".slider-images__items-thumbs")).addClass("slick-current-clone-animate"),"left"==o&&$('.slick-cloned[data-slick-index="'+(n-i-1)+'"]',$(".slider-images__items-thumbs")).addClass("slick-current-clone-animate")}),$(".slider-images__items-thumbs").on("afterChange",function(){$(".slick-current-clone-animate",$(".slider-images__items-thumbs")).removeClass("slick-current-clone-animate"),$(".slick-current-clone-animate",$(".slider-images__items-thumbs")).removeClass("slick-current-clone-animate")}),$(".slider-images-main__items:not(.slider-images-main__items_single)").slick({slidesToShow:2,asNavFor:".slider-images-thumbs__items",prevArrow:".slider-images-main__nav_prev",nextArrow:".slider-images-main__nav_next",centerMode:!0,autoplaySpeed:5e3,initialSlide:1,responsive:[{breakpoint:1200,settings:{slidesToShow:1}},{breakpoint:640,settings:{slidesToShow:1,arrows:!1,centerMode:!1}}]}),$(".slider-images-thumbs__items").slick({slidesToShow:10,variableWidth:!0,asNavFor:".slider-images-main__items",centerMode:!0,arrows:!1,focusOnSelect:!0,initialSlide:1,responsive:[{breakpoint:1200,settings:{slidesToShow:7}},{breakpoint:992,settings:{slidesToShow:6}},{breakpoint:768,settings:{slidesToShow:5}},{breakpoint:576,settings:{slidesToShow:3}},{breakpoint:380,settings:{slidesToShow:2}}]});var e=".slider-images-main__items .slick-slide:not(.slick-cloned)";$().fancybox({selector:e,backFocus:!1,afterShow:function(e,t){t.opts.$orig.closest(".slick-initialized").slick("slickGoTo",parseInt(t.index),!0)}}),$(document).on("click",".slick-cloned",function(t){return $(e).eq(($(this).attr("data-slick-index")||0)%$(e).length).trigger("click.fb-start",{$trigger:$(this)}),!1}),$("#phone").mask("+7 (000) 000 00 00")});